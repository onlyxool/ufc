
async function onLoadFunction() {
    try {
        let host_url = 'http://127.0.0.1:5000/';
        const response = await fetch(host_url, {method: 'GET',headers: {'Content-Type': 'application/json',}});
            if (response.ok) {
                const data = await response.json();

                document.getElementById('Recently_Event').innerText = `${data[0].event_name}`;

                document.getElementById('Event_name0').innerText = `${data[0].event_name}`;
                document.getElementById('Event_time0').innerText = `${data[0].event_time}`;
                document.getElementById('Event_image0').src = `${data[0].event_image[1].x1}`;
                document.getElementById('Event_nameLink0').href = "event.html?event="+`${data[0].event_path}`;
                document.getElementById('Event_imageLink0').href = "event.html?event="+`${data[0].event_path}`;
                document.getElementById('Event_bottonLink0').href = "event.html?event="+`${data[0].event_path}`;

                document.getElementById('Event_name1').innerText = `${data[1].event_name}`;
                document.getElementById('Event_time1').innerText = `${data[1].event_time}`;
                document.getElementById('Event_image1').src = `${data[1].event_image[2].x1}`;
                document.getElementById('Event_nameLink1').href = "event.html?event="+`${data[1].event_path}`;
                document.getElementById('Event_imageLink1').href = "event.html?event="+`${data[1].event_path}`;
                document.getElementById('Event_bottonLink1').href = "event.html?event="+`${data[1].event_path}`;

                document.getElementById('Event_name2').innerText = `${data[2].event_name}`;
                document.getElementById('Event_time2').innerText = `${data[2].event_time}`;
                document.getElementById('Event_image2').src = `${data[2].event_image[2].x1}`;
                document.getElementById('Event_nameLink2').href = "event.html?event="+`${data[2].event_path}`;
                document.getElementById('Event_imageLink2').href = "event.html?event="+`${data[2].event_path}`;
                document.getElementById('Event_bottonLink2').href = "event.html?event="+`${data[2].event_path}`;

                document.getElementById('Event_name3').innerText = `${data[3].event_name}`;
                document.getElementById('Event_time3').innerText = `${data[3].event_time}`;
                document.getElementById('Event_image3').src = `${data[3].event_image[2].x1}`;
                document.getElementById('Event_nameLink3').href = "event.html?event="+`${data[3].event_path}`;
                document.getElementById('Event_imageLink3').href = "event.html?event="+`${data[3].event_path}`;
                document.getElementById('Event_bottonLink3').href = "event.html?event="+`${data[3].event_path}`;

                document.getElementById('Event_name4').innerText = `${data[4].event_name}`;
                document.getElementById('Event_time4').innerText = `${data[4].event_time}`;
                document.getElementById('Event_image4').src = `${data[4].event_image[2].x1}`;
                document.getElementById('Event_nameLink4').href = "event.html?event="+`${data[4].event_path}`;
                document.getElementById('Event_imageLink4').href = "event.html?event="+`${data[4].event_path}`;
                document.getElementById('Event_bottonLink4').href = "event.html?event="+`${data[4].event_path}`;

                document.getElementById('Event_name5').innerText = `${data[5].event_name}`;
                document.getElementById('Event_time5').innerText = `${data[5].event_time}`;
                document.getElementById('Event_image5').src = `${data[5].event_image[2].x1}`;
                document.getElementById('Event_nameLink5').href = "event.html?event="+`${data[5].event_path}`;
                document.getElementById('Event_imageLink5').href = "event.html?event="+`${data[5].event_path}`;
                document.getElementById('Event_bottonLink5').href = "event.html?event="+`${data[5].event_path}`;

                document.getElementById('Event_name6').innerText = `${data[6].event_name}`;
                document.getElementById('Event_time6').innerText = `${data[6].event_time}`;
                document.getElementById('Event_image6').src = `${data[6].event_image[2].x1}`;
                document.getElementById('Event_nameLink6').href = "event.html?event="+`${data[6].event_path}`;
                document.getElementById('Event_imageLink6').href = "event.html?event="+`${data[6].event_path}`;
                document.getElementById('Event_bottonLink6').href = "event.html?event="+`${data[6].event_path}`;
            } else {
                console.error('API request failed:', response.status);
                document.getElementById('message').innerText = `Error: Unable to fetch data`;
            }
        } catch (error) {
            console.error('Error during fetch:', error);
            document.getElementById('message').innerText = `Error: ${error.message}`;
        }
}
window.onload = function() {
    onLoadFunction();
};
